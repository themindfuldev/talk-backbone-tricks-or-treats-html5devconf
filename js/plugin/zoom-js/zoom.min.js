(function(){var isEnabled=true;document.querySelector(".reveal").addEventListener("mousedown",function(event){var modifier=(Reveal.getConfig().zoomKey?Reveal.getConfig().zoomKey:"alt")+"Key";if(event[modifier]&&isEnabled){event.preventDefault();zoom.to({element:event.target,pan:false})}});Reveal.addEventListener("overviewshown",function(){isEnabled=false});Reveal.addEventListener("overviewhidden",function(){isEnabled=true})})();var zoom=function(){var level=1;var mouseX=0,mouseY=0;var panEngageTimeout=-1,panUpdateInterval=-1;var currentOptions=null;var supportsTransforms="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style;if(supportsTransforms){document.body.style.transition="transform 0.8s ease";document.body.style.OTransition="-o-transform 0.8s ease";document.body.style.msTransition="-ms-transform 0.8s ease";document.body.style.MozTransition="-moz-transform 0.8s ease";document.body.style.WebkitTransition="-webkit-transform 0.8s ease"}document.addEventListener("keyup",function(event){if(level!==1&&event.keyCode===27){zoom.out()}},false);document.addEventListener("mousemove",function(event){if(level!==1){mouseX=event.clientX;mouseY=event.clientY}},false);function magnify(pageOffsetX,pageOffsetY,elementOffsetX,elementOffsetY,scale){if(supportsTransforms){var origin=pageOffsetX+"px "+pageOffsetY+"px",transform="translate("+-elementOffsetX+"px,"+-elementOffsetY+"px) scale("+scale+")";document.body.style.transformOrigin=origin;document.body.style.OTransformOrigin=origin;document.body.style.msTransformOrigin=origin;document.body.style.MozTransformOrigin=origin;document.body.style.WebkitTransformOrigin=origin;document.body.style.transform=transform;document.body.style.OTransform=transform;document.body.style.msTransform=transform;document.body.style.MozTransform=transform;document.body.style.WebkitTransform=transform}else{if(scale===1){document.body.style.position="";document.body.style.left="";document.body.style.top="";document.body.style.width="";document.body.style.height="";document.body.style.zoom=""}else{document.body.style.position="relative";document.body.style.left=-(pageOffsetX+elementOffsetX)/scale+"px";document.body.style.top=-(pageOffsetY+elementOffsetY)/scale+"px";document.body.style.width=scale*100+"%";document.body.style.height=scale*100+"%";document.body.style.zoom=scale}}level=scale;if(level!==1&&document.documentElement.classList){document.documentElement.classList.add("zoomed")}else{document.documentElement.classList.remove("zoomed")}}function pan(){var range=.12,rangeX=window.innerWidth*range,rangeY=window.innerHeight*range,scrollOffset=getScrollOffset();if(mouseY<rangeY){window.scroll(scrollOffset.x,scrollOffset.y-(1-mouseY/rangeY)*(14/level))}else if(mouseY>window.innerHeight-rangeY){window.scroll(scrollOffset.x,scrollOffset.y+(1-(window.innerHeight-mouseY)/rangeY)*(14/level))}if(mouseX<rangeX){window.scroll(scrollOffset.x-(1-mouseX/rangeX)*(14/level),scrollOffset.y)}else if(mouseX>window.innerWidth-rangeX){window.scroll(scrollOffset.x+(1-(window.innerWidth-mouseX)/rangeX)*(14/level),scrollOffset.y)}}function getScrollOffset(){return{x:window.scrollX!==undefined?window.scrollX:window.pageXOffset,y:window.scrollY!==undefined?window.scrollY:window.pageXYffset}}return{to:function(options){if(level!==1){zoom.out()}else{options.x=options.x||0;options.y=options.y||0;if(!!options.element){var padding=20;options.width=options.element.getBoundingClientRect().width+padding*2;options.height=options.element.getBoundingClientRect().height+padding*2;options.x=options.element.getBoundingClientRect().left-padding;options.y=options.element.getBoundingClientRect().top-padding}if(options.width!==undefined&&options.height!==undefined){options.scale=Math.max(Math.min(window.innerWidth/options.width,window.innerHeight/options.height),1)}if(options.scale>1){options.x*=options.scale;options.y*=options.scale;var scrollOffset=getScrollOffset();if(options.element){scrollOffset.x-=(window.innerWidth-options.width*options.scale)/2}magnify(scrollOffset.x,scrollOffset.y,options.x,options.y,options.scale);if(options.pan!==false){panEngageTimeout=setTimeout(function(){panUpdateInterval=setInterval(pan,1e3/60)},800)}}currentOptions=options}},out:function(){clearTimeout(panEngageTimeout);clearInterval(panUpdateInterval);var scrollOffset=getScrollOffset();if(currentOptions&&currentOptions.element){scrollOffset.x-=(window.innerWidth-currentOptions.width*currentOptions.scale)/2}magnify(scrollOffset.x,scrollOffset.y,0,0,1);level=1},magnify:function(options){this.to(options)},reset:function(){this.out()},zoomLevel:function(){return level}}}();